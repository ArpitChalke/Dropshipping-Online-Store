!function(a){"use strict";var e={};function s(){var e,s=a(".mkd-login-opener"),t=a(".mkd-login-register-holder");s&&(e=a(".mkd-login-register-content"),s.click(function(e){e.preventDefault(),t.fadeIn(300),t.addClass("opened")}),t.click(function(e){t.hasClass("opened")&&(t.fadeOut(300),t.removeClass("opened"))}),a(".mkd-login-register-content").click(function(e){e.stopPropagation()}),a(window).on("keyup",function(e){t.hasClass("opened")&&27===e.keyCode&&(t.fadeOut(300),t.removeClass("opened"))}),e.tabs())}function t(){a(".mkd-login-form").on("submit",function(e){e.preventDefault();var s={action:"mkd_membership_login_user",security:a(this).find("#mkd-login-security").val(),login_data:a(this).serialize()};return a.ajax({type:"POST",data:s,url:MikadoAjaxUrl,success:function(e){var s=JSON.parse(e);o(s),"success"==s.status&&(window.location=s.redirect)}}),!1})}function i(){a(".mkd-register-form").on("submit",function(e){e.preventDefault();var s={action:"mkd_membership_register_user",security:a(this).find("#mkd-register-security").val(),register_data:a(this).serialize()};return a.ajax({type:"POST",data:s,url:MikadoAjaxUrl,success:function(e){var s=JSON.parse(e);o(s),"success"==s.status&&(window.location=s.redirect)}}),!1})}function r(){var t=a(".mkd-reset-pass-form");t.submit(function(e){e.preventDefault();var s={action:"mkd_membership_user_lost_password",user_login:t.find("#user_reset_password_login").val()};a.ajax({type:"POST",data:s,url:MikadoAjaxUrl,success:function(e){var s=JSON.parse(e);o(s),"success"==s.status&&(window.location=s.redirect)}})})}function o(e){var s=a(".mkd-membership-response-holder"),t=_.template(a(".mkd-membership-response-template").html()),i="success"===e.status?"mkd-membership-message-succes":"mkd-membership-message-error",r=t({messageClass:i,message:e.message});s.html(r)}function n(){var i,r,n,e=a("#mkd-membership-update-profile-form");e.length&&(i=e.find("button"),r=i.data("updating-text"),n=i.data("updated-text"),e.on("submit",function(e){e.preventDefault();var t=i.html();i.html(r);var s={action:"mkd_membership_update_user_profile",data:a(this).serialize()};return a.ajax({type:"POST",data:s,url:MikadoAjaxUrl,success:function(e){var s=JSON.parse(e);o(s),"success"==s.status?(i.html(n),window.location=s.redirect):i.html(t)}}),!1}))}"undefined"!=typeof mkd&&(mkd.modules.socialLogin=e),e.mkdUserLogin=t,e.mkdUserRegister=i,e.mkdUserLostPassword=r,e.mkdInitLoginWidgetModal=s,e.mkdUpdateUserProfile=n,a(document).ready(function(){s(),t(),i(),r(),n()}),a(window).on("load",function(){}),a(window).resize(function(){}),a(window).scroll(function(){})}(jQuery);